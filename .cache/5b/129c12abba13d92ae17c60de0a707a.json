{"id":"node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","dependencies":[{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js.map","includedInParent":true,"mtime":1710948721104},{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/package.json","includedInParent":true,"mtime":1710952305120},{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/package.json","includedInParent":true,"mtime":1710948721086},{"name":"../platform/cameraKitUserAgent","loc":{"line":1,"column":38,"index":38},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/platform/cameraKitUserAgent.js"},{"name":"../configuration","loc":{"line":2,"column":35,"index":107},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/configuration.js"},{"name":"../dependency-injection/Injectable","loc":{"line":3,"column":27,"index":154},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/dependency-injection/Injectable.js"},{"name":"./defaultFetchHandler","loc":{"line":4,"column":43,"index":235},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/defaultFetchHandler.js"},{"name":"./HandlerChainBuilder","loc":{"line":5,"column":36,"index":296},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/HandlerChainBuilder.js"},{"name":"./headersModifyingFetchHandler","loc":{"line":6,"column":51,"index":372},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/cameraKitServiceFetchHandlerFactory.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/handlers/headersModifyingFetchHandler.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cameraKitServiceFetchHandlerFactory = void 0;\nvar _cameraKitUserAgent = require(\"../platform/cameraKitUserAgent\");\nvar _configuration = require(\"../configuration\");\nvar _Injectable = require(\"../dependency-injection/Injectable\");\nvar _defaultFetchHandler = require(\"./defaultFetchHandler\");\nvar _HandlerChainBuilder = require(\"./HandlerChainBuilder\");\nvar _headersModifyingFetchHandler = require(\"./headersModifyingFetchHandler\");\n/**\n * A Fetch implementation which adds headers required to make authenticated calls to the CameraKit backend service.\n *\n * @internal\n */\nconst cameraKitServiceFetchHandlerFactory = exports.cameraKitServiceFetchHandlerFactory = (0, _Injectable.Injectable)(\"cameraKitServiceFetchHandler\", [_configuration.configurationToken, _defaultFetchHandler.defaultFetchHandlerFactory.token], ({\n  apiToken\n}, defaultFetchHandler) => {\n  return new _HandlerChainBuilder.HandlerChainBuilder(defaultFetchHandler).map((0, _headersModifyingFetchHandler.createHeadersModifyingFetchHandler)(headers => {\n    headers.append(\"x-snap-client-user-agent\", (0, _cameraKitUserAgent.getCameraKitUserAgent)());\n    headers.append(\"authorization\", `Bearer ${apiToken}`);\n    return headers;\n  })).handler;\n});"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":23}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":26}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":33}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":18}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":21}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":28}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":15}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":18}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":25}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":24}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":27}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":34}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":24}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":27}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":34}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":33}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":36}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":43}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":13,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":7},"generated":{"line":18,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":18,"column":6}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":48},"generated":{"line":18,"column":41}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":48},"generated":{"line":18,"column":44}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":48},"generated":{"line":18,"column":51}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":48},"generated":{"line":18,"column":52}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":48},"generated":{"line":18,"column":87}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":51},"generated":{"line":18,"column":90}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":51},"generated":{"line":18,"column":94}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":13,"column":61},"generated":{"line":18,"column":116}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":18,"column":118}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":14,"column":34},"generated":{"line":18,"column":148}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":18,"column":150}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":5},"generated":{"line":18,"column":151}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":23},"generated":{"line":18,"column":184}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":25},"generated":{"line":18,"column":186}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":51},"generated":{"line":18,"column":233}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":52},"generated":{"line":18,"column":234}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":57},"generated":{"line":18,"column":239}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":15,"column":67},"generated":{"line":18,"column":240}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":18,"column":242}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":5},"generated":{"line":18,"column":243}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":19,"column":2}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":15},"generated":{"line":20,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":41},"generated":{"line":20,"column":1}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":43},"generated":{"line":20,"column":3}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":76},"generated":{"line":20,"column":22}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":16,"column":80},"generated":{"line":20,"column":27}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":21,"column":2}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":21,"column":9}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":19},"generated":{"line":21,"column":13}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":38},"generated":{"line":21,"column":53}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":21,"column":54}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":58},"generated":{"line":21,"column":73}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":59},"generated":{"line":21,"column":74}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":60},"generated":{"line":21,"column":75}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":17,"column":63},"generated":{"line":21,"column":78}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":21,"column":79}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":21,"column":83}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":46},"generated":{"line":21,"column":147}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":48},"generated":{"line":21,"column":149}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":55},"generated":{"line":21,"column":156}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":18,"column":59},"generated":{"line":21,"column":160}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":22,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":23},"generated":{"line":22,"column":11}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":22,"column":12}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":30},"generated":{"line":22,"column":18}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":31},"generated":{"line":22,"column":19}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":57},"generated":{"line":22,"column":45}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":59},"generated":{"line":22,"column":47}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":59},"generated":{"line":22,"column":51}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":80},"generated":{"line":22,"column":92}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":80},"generated":{"line":22,"column":94}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":82},"generated":{"line":22,"column":95}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":19,"column":83},"generated":{"line":22,"column":96}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":23,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":23,"column":11}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":24},"generated":{"line":23,"column":12}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":30},"generated":{"line":23,"column":18}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":23,"column":19}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":23,"column":34}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":48},"generated":{"line":23,"column":36}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":58},"generated":{"line":23,"column":46}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":66},"generated":{"line":23,"column":54}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":68},"generated":{"line":23,"column":56}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":20,"column":69},"generated":{"line":23,"column":57}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":24,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":21,"column":23},"generated":{"line":24,"column":11}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":21,"column":30},"generated":{"line":24,"column":18}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":25,"column":2}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":25,"column":3}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":22,"column":14},"generated":{"line":25,"column":4}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":25,"column":5}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":23,"column":10},"generated":{"line":25,"column":6}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":23,"column":17},"generated":{"line":25,"column":13}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":26,"column":0}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":24,"column":5},"generated":{"line":26,"column":1}},{"source":"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts","name":null,"original":{"line":25,"column":1},"generated":{"line":26,"column":2}}],"sources":{"../../src/handlers/cameraKitServiceFetchHandlerFactory.ts":"import { getCameraKitUserAgent } from \"../platform/cameraKitUserAgent\";\nimport { CameraKitConfiguration, configurationToken } from \"../configuration\";\nimport { Injectable } from \"../dependency-injection/Injectable\";\nimport { defaultFetchHandlerFactory, FetchHandler } from \"./defaultFetchHandler\";\nimport { HandlerChainBuilder } from \"./HandlerChainBuilder\";\nimport { createHeadersModifyingFetchHandler } from \"./headersModifyingFetchHandler\";\n\n/**\n * A Fetch implementation which adds headers required to make authenticated calls to the CameraKit backend service.\n *\n * @internal\n */\nexport const cameraKitServiceFetchHandlerFactory = Injectable(\n    \"cameraKitServiceFetchHandler\",\n    [configurationToken, defaultFetchHandlerFactory.token] as const,\n    ({ apiToken }: CameraKitConfiguration, defaultFetchHandler: FetchHandler) => {\n        return new HandlerChainBuilder(defaultFetchHandler).map(\n            createHeadersModifyingFetchHandler((headers) => {\n                headers.append(\"x-snap-client-user-agent\", getCameraKitUserAgent());\n                headers.append(\"authorization\", `Bearer ${apiToken}`);\n                return headers;\n            })\n        ).handler;\n    }\n);\n"},"lineCount":null}},"error":null,"hash":"a656af5c6a63a0f1b9c51e156c4de61c","cacheData":{"env":{}}}