{"id":"node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","dependencies":[{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js.map","includedInParent":true,"mtime":1710948721292},{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/package.json","includedInParent":true,"mtime":1710952305120},{"name":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/package.json","includedInParent":true,"mtime":1710948721086},{"name":"@snap/state-management","loc":{"line":1,"column":27,"index":27},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/state-management/dist/public-api.js"},{"name":"rxjs","loc":{"line":2,"column":23,"index":76},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/rxjs/dist/esm5/index.js"},{"name":"../../dependency-injection/Injectable","loc":{"line":3,"column":27,"index":111},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/dependency-injection/Injectable.js"},{"name":"../../events/TypedCustomEvent","loc":{"line":4,"column":33,"index":185},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/events/TypedCustomEvent.js"},{"name":"../../session/lensState","loc":{"line":5,"column":33,"index":251},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/session/lensState.js"},{"name":"../metricsEventTarget","loc":{"line":6,"column":42,"index":320},"parent":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/reporters/reportLensValidationFailed.js","resolved":"/Users/eneto/Lab/snap-rca-camkit-workshop/node_modules/@snap/camera-kit/lib/metrics/metricsEventTarget.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reportLensValidationFailed = void 0;\nvar _stateManagement = require(\"@snap/state-management\");\nvar _rxjs = require(\"rxjs\");\nvar _Injectable = require(\"../../dependency-injection/Injectable\");\nvar _TypedCustomEvent = require(\"../../events/TypedCustomEvent\");\nvar _lensState = require(\"../../session/lensState\");\nvar _metricsEventTarget = require(\"../metricsEventTarget\");\n/**\n * @internal\n */\nconst reportLensValidationFailed = exports.reportLensValidationFailed = (0, _Injectable.Injectable)(\"reportLensValidationFailed\", [_lensState.lensStateFactory.token, _metricsEventTarget.metricsEventTargetFactory.token], (lensState, metricsEventTarget) => {\n  lensState.events.pipe((0, _stateManagement.forActions)(\"applyLensFailed\"), (0, _rxjs.filter)(([a]) => a.data.error.name === \"LensContentValidationError\")).subscribe({\n    next: ([{\n      data\n    }]) => {\n      const {\n        lens\n      } = data;\n      const lensContentValidationFailed = {\n        name: \"lensContentValidationFailed\",\n        lensId: lens.id\n      };\n      metricsEventTarget.dispatchEvent(new _TypedCustomEvent.TypedCustomEvent(\"lensContentValidationFailed\", lensContentValidationFailed));\n    }\n  });\n});"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":20}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":23}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":30}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":9}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":19}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":15}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":18}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":25}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":21}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":24}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":31}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":14}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":17}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":24}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":23}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":26}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":33}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":13,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":7},"generated":{"line":16,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":16,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":16,"column":32}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":16,"column":35}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":16,"column":42}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":16,"column":43}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":16,"column":69}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":42},"generated":{"line":16,"column":72}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":42},"generated":{"line":16,"column":76}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":17,"column":52},"generated":{"line":16,"column":98}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":16,"column":100}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":16,"column":128}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":16,"column":130}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":5},"generated":{"line":16,"column":131}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":16,"column":158}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":22},"generated":{"line":16,"column":159}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":27},"generated":{"line":16,"column":164}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":29},"generated":{"line":16,"column":166}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":54},"generated":{"line":16,"column":211}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":55},"generated":{"line":16,"column":212}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":60},"generated":{"line":16,"column":217}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":16,"column":218}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":16,"column":220}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":5},"generated":{"line":16,"column":221}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":16,"column":230}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":16,"column":232}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":65},"generated":{"line":16,"column":250}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":20,"column":69},"generated":{"line":16,"column":255}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":17,"column":2}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":21,"column":17},"generated":{"line":17,"column":11}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":17,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":17,"column":18}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":17,"column":19}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":17,"column":23}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":17,"column":24}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":17,"column":28}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":17,"column":55}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":27},"generated":{"line":17,"column":57}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":44},"generated":{"line":17,"column":74}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":23,"column":45},"generated":{"line":17,"column":75}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":17,"column":77}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":17,"column":81}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":22},"generated":{"line":17,"column":93}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":17,"column":95}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":24},"generated":{"line":17,"column":96}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":17,"column":97}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":26},"generated":{"line":17,"column":98}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":17,"column":99}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":32},"generated":{"line":17,"column":104}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":33},"generated":{"line":17,"column":105}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":34},"generated":{"line":17,"column":106}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":38},"generated":{"line":17,"column":110}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":17,"column":111}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":44},"generated":{"line":17,"column":116}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":17,"column":117}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":49},"generated":{"line":17,"column":121}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":54},"generated":{"line":17,"column":126}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":82},"generated":{"line":17,"column":154}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":24,"column":83},"generated":{"line":17,"column":155}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":17,"column":156}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":17,"column":157}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":17,"column":166}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":26,"column":23},"generated":{"line":17,"column":167}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":18,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":18,"column":8}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":18,"column":10}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":18,"column":11}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":18,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":19,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":30},"generated":{"line":20,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":20,"column":5}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":20,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":27,"column":37},"generated":{"line":20,"column":11}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":21,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":21,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":28},"generated":{"line":22,"column":8}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":23,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":23,"column":7}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":37},"generated":{"line":23,"column":10}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":23,"column":14}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":24,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":24,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":29,"column":53},"generated":{"line":24,"column":39}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":29,"column":85},"generated":{"line":24,"column":42}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":25,"column":8}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":30,"column":28},"generated":{"line":25,"column":12}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":30,"column":30},"generated":{"line":25,"column":14}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":30,"column":59},"generated":{"line":25,"column":43}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":26,"column":8}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":26,"column":14}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":26,"column":16}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":31,"column":36},"generated":{"line":26,"column":20}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":31,"column":37},"generated":{"line":26,"column":21}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":27,"column":7}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":33,"column":20},"generated":{"line":28,"column":6}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":28,"column":24}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":33,"column":39},"generated":{"line":28,"column":25}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":33,"column":52},"generated":{"line":28,"column":38}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":28,"column":39}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":28},"generated":{"line":28,"column":43}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":44},"generated":{"line":28,"column":77}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":45},"generated":{"line":28,"column":78}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":74},"generated":{"line":28,"column":107}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":76},"generated":{"line":28,"column":109}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":103},"generated":{"line":28,"column":136}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":34,"column":104},"generated":{"line":28,"column":137}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":28,"column":138}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":29,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":30,"column":3}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":30,"column":4}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":31,"column":0}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":38,"column":5},"generated":{"line":31,"column":1}},{"source":"../../../src/metrics/reporters/reportLensValidationFailed.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":31,"column":2}}],"sources":{"../../../src/metrics/reporters/reportLensValidationFailed.ts":"import { forActions } from \"@snap/state-management\";\nimport { filter } from \"rxjs\";\nimport { Injectable } from \"../../dependency-injection/Injectable\";\nimport { TypedCustomEvent } from \"../../events/TypedCustomEvent\";\nimport { lensStateFactory, LensState } from \"../../session/lensState\";\nimport { MakeTaggedBusinessEvent } from \"../businessEventsReporter\";\nimport { MetricsEventTarget, metricsEventTargetFactory } from \"../metricsEventTarget\";\n\n/**\n * The LensContentValidationFailed metric reports every time we handle an lens checksum validation failure.\n */\nexport type LensContentValidationFailed = MakeTaggedBusinessEvent<\"lensContentValidationFailed\">;\n\n/**\n * @internal\n */\nexport const reportLensValidationFailed = Injectable(\n    \"reportLensValidationFailed\",\n    [lensStateFactory.token, metricsEventTargetFactory.token] as const,\n    (lensState: LensState, metricsEventTarget: MetricsEventTarget) => {\n        lensState.events\n            .pipe(\n                forActions(\"applyLensFailed\"),\n                filter(([a]) => a.data.error.name === \"LensContentValidationError\")\n            )\n            .subscribe({\n                next: ([{ data }]) => {\n                    const { lens } = data;\n                    const lensContentValidationFailed: LensContentValidationFailed = {\n                        name: \"lensContentValidationFailed\",\n                        lensId: lens.id,\n                    };\n                    metricsEventTarget.dispatchEvent(\n                        new TypedCustomEvent(\"lensContentValidationFailed\", lensContentValidationFailed)\n                    );\n                },\n            });\n    }\n);\n"},"lineCount":null}},"error":null,"hash":"b31c3afb647376b887dda466f8083778","cacheData":{"env":{}}}